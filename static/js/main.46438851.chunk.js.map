{"version":3,"sources":["assets/images/logo.png","api/ajax.js","config/Constans.js","api/index.js","components/views/login/index.jsx","config/navConfig.js","components/nav/index.jsx","components/link-button/index.jsx","utils/dateUtils.js","components/header/index.jsx","components/views/home/index.jsx","components/views/category/add-update-form.jsx","components/views/category/index.jsx","components/views/product/index.jsx","components/views/product/update-picture.jsx","components/views/product/update-draft-editor.jsx","components/views/product/add-update.jsx","components/views/product/detail.jsx","routes/ProductRouter.jsx","components/views/role/add-form.jsx","components/views/role/auth-form.jsx","components/views/role/index.jsx","components/views/user/add-update-form.jsx","components/views/user/index.jsx","components/views/statistic/myBar.jsx","components/views/statistic/myLine.jsx","components/views/statistic/myPie.jsx","routes/AdminRouter.jsx","routes/AppRouter.jsx","index.js"],"names":["module","exports","axios","interceptors","request","use","config","token","sessionStorage","getItem","headers","response","data","error","errors","errorMsg","msg","message","status","Promise","PAGE_SIZE","BASE_HOST","API","instance","create","defaults","common","accept","reqLogin","username","password","post","reqWeather","city","get","reqCategories","ajax","reqCategoryById","id","params","reqAddCategory","name","reqUpdateCategory","put","reqDeleteCategory","delete","reqProducts","pageNum","pageSize","reqProductById","reqAddProduct","product","reqUpdateProduct","reqDeleteProduct","reqSearchProducts","searchName","searchType","reqUpdateProductStatus","productId","reqDeleteImg","reqRoles","reqAddRole","role","reqUpdateRole","reqDeleteRole","reqUsers","reqDeleteUser","reqAddUser","user","reqUpdateUser","Login","handleSubmit","e","preventDefault","props","form","validateFields","err","console","log","then","decode","setItem","history","replace","catch","validatePwd","rule","value","callback","trim","length","to","getFieldDecorator","this","className","src","logo","alt","onSubmit","Item","initialValue","rules","required","whitespace","prefix","type","style","color","placeholder","validator","htmlType","Component","WrapLogin","navList","title","key","icon","isPublic","children","SubMenu","Nav","getNavItems","openItem","location","pathname","reduce","pre","item","push","find","childrenItem","indexOf","openKey","getNavigationItem","map","hasAuth","rootPath","split","menus","some","child","navItems","selectedKeys","defaultOpenKeys","mode","theme","withRouter","LinkButton","formateDate","time","date","Date","getFullYear","getMonth","slice","getDate","getHours","getMinutes","getSeconds","Header","state","currentTime","now","weather","getTitle","path","forEach","cItem","logout","confirm","onOk","removeItem","onCancel","getWeather","a","setState","description","intervalId","setInterval","clearInterval","onClick","Home","AddUpdateForm","setForm","categoryName","Category","initColumns","columns","dataIndex","width","render","category","showStatus","handleDelete","getCategories","loading","categories","handleOk","values","_id","resetFields","action","success","handleCancel","extra","bordered","rowKey","dataSource","pagination","defaultPageSize","showQuickJumper","visible","Option","ProductHome","price","btnText","text","size","updateProductStatus","getProducts","total","list","products","searchProduct","onChange","margin","event","target","current","BASE_IMG","getBase64","file","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","UpdatePicture","previewVisible","previewImage","fileList","getImgs","handlePreview","url","preview","originFileObj","handleChange","imgs","img","index","uid","nextProps","uploadButton","listType","onPreview","footer","UpdateDraftEditor","editorState","EditorState","createEmpty","createEditorState","detail","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","getDetail","draftToHtml","convertToRaw","getCurrentContent","onEditorStateChange","_","debounce","editorStyle","height","border","paddingLeft","ProductAddUpdate","validatePrice","desc","picturesRef","editorRef","isUpdate","React","createRef","match","goBack","labelCol","span","wrapperCol","label","addonBefore","c","ref","textAlign","ProductDetail","getProduct","displayImg","dangerouslySetInnerHTML","__html","ProductRouter","exact","component","AddForm","PureComponent","TreeNode","AuthForm","checkedKeys","getMenus","getTreeNodes","handleCheck","treeNodes","prevProps","disabled","checkable","defaultExpandAll","onCheck","Role","roles","isShowAdd","isShowAuth","getRoles","addRole","newRole","decodeddata","created_name","created_time","updateRole","authRef","auth_time","auth_name","showAuth","initColumn","phone","email","pattern","User","getUsers","users","deleteUser","competition","addUpdateModalShow","showAdd","showUpdate","MyBar","store","online","top","right","left","bottom","strokeDasharray","dataKey","stackId","fill","MyLine","Cheese_Cake","Mousse_Cake","Chocolate_Cake","stroke","MyPie","COLORS","isAnimationActive","cx","cy","outerRadius","entry","Footer","Sider","Content","AdminRouter","minHeight","background","Bar","Line","Pie","AppRouter","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.46438851.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.09f15b0c.png\";","import axios from 'axios';\nimport {message} from 'antd';\n\n// Add a request interceptor\n// Add Token to headers\naxios.interceptors.request.use(function (config) {\n  let token = sessionStorage.getItem('token');\n  config.headers = {'x-auth-token': token};\n  return config\n});\n\n//Add a response interceptor change promise\naxios.interceptors.response.use(function (response) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  //get data directly\n  return response.data;\n}, function (error) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  // Message all the response errors\n  if (error.response) {\n    if (error.response.data) {\n      if (error.response.data.errors) {\n        let errorMsg = error.response.data.errors[0].msg;\n        message.error(`Error ${error.response.status} : ${errorMsg}`);\n      } else message.error('Response Error ' + error.message);\n    } else message.error('Response Error ' + error.message);\n  } else {\n    message.error('Response Error ' + error.message);\n  }\n\n  // return a new promise(pending), break promise chain\n  return new Promise(() => {\n  });\n});\n\nexport default axios;","//constants\nexport const PAGE_SIZE = 5; //pagination Default number of data items per page\n//export const BASE_HOST = 'http://localhost:5678';\nexport const BASE_HOST = 'https://cakefactoryserver.herokuapp.com';\n","import ajax from './ajax';\nimport axios from 'axios';\nimport {BASE_HOST} from '../config/Constans';\n\nconst API = BASE_HOST + '/api';\n\n//------------------------No Authorization------------------------------------\n// no Authorization\nconst instance = axios.create();\ninstance.defaults.headers.common = {};\ninstance.defaults.headers.common.accept = 'application/json';\n\n//login request\nexport const reqLogin = (username, password) => instance.post(API + '/login', {username, password});\n\n//weather request\nexport const reqWeather = (city) => instance.get(`https://crossorigin.me/http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=c7dbdc5297ee2fbbeaa2daed2a14e793`);\n\n//--------------------------CATEGORY------------------------------\n//get all categories\nexport const reqCategories = () => ajax.get(API + '/categories');\n\n//get category by category id\nexport const reqCategoryById = (id) => ajax.get(API + '/category', {\n  params: {id}\n});\n\n// add category\nexport const reqAddCategory = (name) => ajax.post(API + '/categories', {name});\n\n// update category\nexport const reqUpdateCategory = ({id, name}) => ajax.put(API + '/categories', {\n  id,\n  name\n});\n\n// delete category\nexport const reqDeleteCategory = (id) => ajax.delete(API + '/categories', {\n  data: {id}\n});\n\n//-----------------------------PRODUCT------------------------//\n//get product list\nexport const reqProducts = ({pageNum, pageSize}) => ajax.get(API + '/products', {\n  params: { // query\n    pageNum,\n    pageSize\n  }\n});\n\n//get product by id\nexport const reqProductById = (id) => ajax.get(API + '/product', {\n  params: {id}\n});\n\n//add product\nexport const reqAddProduct = (product) => ajax.post(API + '/products', product);\n\n//update product\nexport const reqUpdateProduct = (product) => ajax.put(API + '/products', product);\n\n//delete product\nexport const reqDeleteProduct = (id) => ajax.delete(API + '/products', {data: {id}});\n\n\n//search product\nexport const reqSearchProducts = ({\n                                    pageNum,\n                                    pageSize,\n                                    searchName,\n                                    searchType // 'productName'or'productDesc'\n                                  }) => ajax.get(API + '/productsearch', {\n  //method: 'GET',\n  params: {\n    pageNum,\n    pageSize,\n    [searchType]: searchName,\n  }\n});\n\n//change product stock status\nexport const reqUpdateProductStatus = (productId, status) => ajax.put(API + '/productstatus', {\n  productId,\n  status\n});\n\n//upload img\nexport const updateImgUrl = API + '/images';\n\n//delete img\nexport const reqDeleteImg = (name) => ajax.delete(API + '/images', {data:{name}});\n\n\n//----------------------------ROLE----------------------------------------//\n//get all roles\nexport const reqRoles = () => ajax.get(API + '/roles');\n\n//add role\nexport const reqAddRole = (role) => ajax.post(API + '/roles', role);\n\n//update role\nexport const reqUpdateRole = (role) => ajax.put(API + '/roles', role);\n\n//delete role\nexport const reqDeleteRole = (id) => ajax.delete(API + '/roles', {data: {id}});\n\n//----------------------------USER-------------------------------------//\n//get users\nexport const reqUsers = () => ajax.get(API + '/users');\n\nexport const reqDeleteUser = (id) => ajax.delete(API + '/users', {data: {id}});\n\n//add user\nexport const reqAddUser = (user) => ajax.post(API + '/users', user);\n\n//update user\nexport const reqUpdateUser = (user) => ajax.put(API + '/users', user);\n\n\n","import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {Form, Icon, Input, Button, message} from 'antd';\nimport decode from 'jwt-decode';\n\nimport {reqLogin} from '../../../api';\nimport './login.less'\nimport logo from '../../../assets/images/logo.png'\n\n\nclass Login extends Component {\n\n\n  handleSubmit = e => {\n    //block submitting\n    e.preventDefault();\n\n    //Validate the specified fields and get their values and errors.\n    this.props.form.validateFields((err, {username, password}) => {\n      if (!err) {\n\n        reqLogin(username, password)\n          .then(response => {\n            let decodeddata = decode(response.data.token);\n            //console.log(decodeddata);\n            sessionStorage.setItem('token', response.data.token);\n            this.props.history.replace('/');\n          })\n          .catch(error => {\n            if(error.response){\n              let errorMsg = error.response.data.errors[0].msg;\n              message.error(`Error ${error.response.status} : ${errorMsg}`);\n            }else {\n              message.error('Response Error ' + error.message);\n            }\n          });\n      } else {\n        console.log('validate failed');\n      }\n    })\n  };\n\n  //validate password\n  /*\n  1.must input\n  2.min:8 characters\n  3.max:20 characters\n  4.at least 1 uppercase letter\n  5.at least 1 lowercase letter\n  6.at least 1 number\n  7.at least 1 symbol\n   */\n  validatePwd = (rule, value, callback) => {\n    //console.log('validatePwd()', rule, value)\n    value = value.trim();\n    if (!value) {\n      callback('Please input your password')\n    } else if (value.length < 4) {\n      callback('Password must contain 4 - 20 characters')\n    } else if (value.length > 20) {\n      callback('Password must contain 4 - 20 characters')\n      // } else if (!/[A-Z]/.test(value)) {\n      //   callback('Password must contain at least 1 uppercase letter')\n      // } else if (!/[a-z]/.test(value)) {\n      //   callback('Password must contain at least 1 lowercase letter')\n      // } else if (!/[0-9]/.test(value)) {\n      //   callback('Password must contain at least 1 number')\n      // } else if (!/[^A-Za-z0-9\\s]/.test(value)) {\n      //   callback('Password must contain at least 1 symbol')\n    } else {\n      callback() // pwd ok\n    }\n  };\n\n\n  //\n\n  render() {\n    // get user, if user exists, redirect to home\n    let token = sessionStorage.getItem('token');\n    if (token) {\n      return <Redirect to=\"/\"/>\n    }\n\n    //Get form and Two-way binding\n    const form = this.props.form;\n    const {getFieldDecorator} = form;\n\n    return (\n      <div className=\"login\">\n\n        <div className=\"login-header\">\n          <img src={logo} alt=\"logo\"/>\n          <h1>Admin System</h1>\n        </div>\n        <div className=\"login-content\">\n          <h1>LOGIN</h1>\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Item>\n              {getFieldDecorator('username', {\n                initialValue: '',\n                rules: [{required: true, whitespace: true, message: 'Please input your username!'}],\n              })(\n                <Input\n                  prefix={<Icon type=\"user\" style={{color: 'rgba(0,0,0,.25)'}}/>}\n                  placeholder=\"Username\"\n                />,\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator('password', {\n                initialValue: '',\n                rules: [{validator: this.validatePwd}],\n              })(\n                <Input\n                  prefix={<Icon type=\"lock\" style={{color: 'rgba(0,0,0,.25)'}}/>}\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />,\n              )}\n\n            </Form.Item>\n            <Form.Item>\n              <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                Log in\n              </Button>\n            </Form.Item>\n          </Form>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nconst WrapLogin = Form.create()(Login);\nexport default WrapLogin;","const navList = [\n  {\n    title: 'HOME',\n    key: '/home', //route\n    icon: 'home',\n    isPublic: true, //all the user can access home\n  },\n  {\n    title: 'PRODUCTS',\n    key: '/products', //unique key\n    icon: 'appstore',\n    children: [\n      {\n        title: 'CATEGORY',\n        key: '/category', //route\n        icon: 'bars'\n      },\n      {\n        title: 'PRODUCT',\n        key: '/product', //route\n        icon: 'tool'\n      },\n    ]\n  },\n\n  {\n    title: 'USER',\n    key: '/user', //route\n    icon: 'user'\n  },\n  {\n    title: 'ROLE',\n    key: '/role', //route\n    icon: 'safety',\n  },\n\n  {\n    title: 'STATISTIC',\n    key: '/statistic', //unique key\n    icon: 'area-chart',\n    children: [\n      {\n        title: 'BAR CHART',\n        key: '/bar', //route\n        icon: 'bar-chart'\n      },\n      {\n        title: 'LINE CHART',\n        key: '/line', //route\n        icon: 'line-chart'\n      },\n      {\n        title: 'PIE CHART',\n        key: '/pie', //route\n        icon: 'pie-chart'\n      },\n    ]\n  },\n];\n\nexport default navList;","import React, {Component} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {Menu, Icon} from 'antd';\n\nimport './index.less';\nimport logo from '../../assets/images/logo.png';\nimport navList from '../../config/navConfig';\nimport decode from \"jwt-decode\";\n\nconst {SubMenu} = Menu;\n\nclass Nav extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.navItems = this.getNavigationItem(navList);\n\n  }\n\n\n  //get navList and return <Menu.Item> or <SubMenu>\n  getNavItems = (navList) => {\n    const openItem = this.props.location.pathname;\n\n    return navList.reduce((pre, item) => {\n      if (!item.children) { //<Menu.Item>\n        pre.push(\n          <Menu.Item key={item.key}>\n            <Link to={item.key}>\n              <Icon type={item.icon}/>\n              <span>{item.title}</span>\n            </Link>\n          </Menu.Item>)\n      } else {\n        pre.push(//<SubMenu>\n          <SubMenu\n            key={item.key}\n            title={\n              <span>\n                <Icon type={item.icon}/>\n                <span>{item.title}</span>\n              </span>\n            }\n          >\n            {this.getNavItems(item.children)}\n          </SubMenu>)\n\n        //use path to check open nav\n        //if path = item.children.key set openkey = item.key\n        //const childrenItem = item.children.find(childrenItem => childrenItem.key === openItem); fix bug child page using begins(indexof)\n        const childrenItem = item.children.find(childrenItem => openItem.indexOf(childrenItem) === 0);\n        if (childrenItem) {\n          this.openKey = item.key//save open key to this\n        }\n\n\n      }\n      return pre;\n    }, [])\n  };\n\n  getNavigationItem = (navList) => {\n\n\n    return navList.map(item => {\n\n      //if the item is in the user's menus\n      if (this.hasAuth(item)) {\n        if (!item.children) { //<Menu.Item> no children item\n          return (\n            <Menu.Item key={item.key}>\n              <Link to={item.key}>\n                <Icon type={item.icon}/>\n                <span>{item.title}</span>\n              </Link>\n            </Menu.Item>\n          )\n        } else { //<SubMenu> children item\n          //if the path is children item, parent item need to be open\n          //defaultOpenKeys  Array with the keys of default opened sub menus\n          //if the path is children item?\n          //const path = this.props.location.pathname;\n          // const childrenItem = item.children.find(childrenItem => childrenItem.key === path);\n          // //the path is children item\n          // if (childrenItem) {\n          //   //set openKey to parent item key\n          //   this.openKey = item.key\n          // }\n\n          //fix bug:when add and update product, nav item is not active\n\n          const path = this.props.location.pathname;\n          const rootPath = \"/\" + path.split(\"/\")[1];\n          const childrenItem = item.children.find(childrenItem => childrenItem.key === rootPath);\n          //the path is children item\n          if (childrenItem) {\n            //set openKey to parent item key\n            this.openKey = item.key;\n            console.log(item.key)\n          }\n\n          return (\n            <SubMenu\n              key={item.key}\n              title={\n                <span>\n                <Icon type={item.icon}/>\n                <span>{item.title}</span>\n              </span>\n              }\n            >\n              {this.getNavigationItem(item.children)}\n            </SubMenu>\n          );\n        }\n      } else {\n        return \"\";\n      }\n\n\n    });\n  };\n\n  hasAuth = (item) => {\n    const {key, isPublic} = item;\n\n    let token = sessionStorage.getItem('token');\n    let decodedData = decode(token);\n    let menus = decodedData.user.menus;\n\n    //if item is public or item.key is in the menus\n    if (isPublic || menus.indexOf(key) !== -1) {\n      return true\n\n      //if item.children.key is in the menus\n    } else if (item.children) {\n      return item.children.some(child => menus.indexOf(child.key) !== -1)\n    } else {\n      return false;\n    }\n\n\n  };\n\n\n  render() {\n    //get path here, display navigation item(path) you select Actively\n    //selectedKeys: Array with the keys of currently selected menu items\n    const path = this.props.location.pathname;\n    //fix bug - when add and update product, nav item is not active\n    const rootPath = \"/\" + path.split(\"/\")[1];\n\n\n    return (\n      <div className=\"nav\">\n        <Link className=\"nav-link\" to=\"/home\">\n          <img src={logo} alt=\"logo\"/>\n          <h1>Admin</h1>\n        </Link>\n\n        <Menu\n          selectedKeys={[rootPath]}\n          defaultOpenKeys={[this.openKey]}\n          mode=\"inline\"\n          theme=\"dark\"\n        >\n          {this.navItems}\n        </Menu>\n\n      </div>\n    );\n  }\n}\n\n//withRouter: pass updated match, location, and history props\nexport default withRouter(Nav);","import React from 'react'\n\nimport './index.less'\n/*\ncustom a button like a link\nchildren:\n  <LinkButton>xxxx</LinkButton>\n  <LinkButton><span></span></LinkButton>\n  <LinkButton><span></span><span></span></LinkButton>d\n*/\nexport default function LinkButton (props) {\n  return <button className=\"link-button\" {...props}/>\n}","//format date Date.now() to 2019-10-10 10:10:10\n\nexport function formateDate(time) {\n  if (!time) return '';\n  let date = new Date(time);\n  return date.getFullYear() + '-' +\n    (\"0\" + (date.getMonth() + 1)).slice(-2) + '-' +\n    (\"0\" + (date.getDate())).slice(-2) + ' ' +\n    (\"0\" + date.getHours()).slice(-2) + ':' +\n    (\"0\" + date.getMinutes()).slice(-2) + ':' +\n    (\"0\" + date.getSeconds()).slice(-2);\n}","import React, {Component} from 'react';\nimport {withRouter} from 'react-router-dom'\nimport {Modal} from 'antd'\nimport LinkButton from '../../components/link-button'\n\nimport navList from '../../config/navConfig'\nimport {formateDate} from '../../utils/dateUtils'\nimport {reqWeather} from '../../api'\nimport './index.less';\nimport decode from \"jwt-decode\";\n\nclass Header extends Component {\n\n  state = {\n    currentTime: formateDate(Date.now()), //date\n    weather: '', // weather\n  }\n\n\n  //get title by pathname\n  getTitle = () => {\n    let title = '';\n    const path = this.props.location.pathname;\n    navList.forEach(item => {\n      if (item.key === path) {\n        title = item.title;\n      } else if (item.children) {\n        const cItem = item.children.find(cItem => path.indexOf(cItem.key)===0);\n        if (cItem) {\n          title = cItem.title;\n        }\n      }\n    });\n    return title\n  };\n\n  //logout\n  logout = () => {\n    Modal.confirm({\n      title: 'Are you sure you want to logout?',\n      onOk: () => { //use THIS in the function ()=>\n        console.log('OK');\n        //delete token from sessionStorage\n        sessionStorage.removeItem('token');\n        //redirect to another page\n        // if in the render():<Redirect to=\"/home\"/> else: import withRouter, this.props.history.replace('/login'\n        this.props.history.replace('/login')//this:()=>\n      },\n      onCancel() {\n        console.log('Cancel');\n      },\n    })\n  };\n\n  // //get weather\n  getWeather = async () => {\n    const response = await reqWeather('Toronto');\n    //update state\n    this.setState({weather: response.data.weather[0].description})\n  }\n\n\n  componentDidMount() {\n    // set time interval\n    this.intervalId = setInterval(() => {\n      // update currentTime each second\n      this.setState({\n        currentTime: formateDate(Date.now())\n      })\n    }, 1000);\n    //send ajax for weather\n    this.getWeather();\n  }\n\n\n  componentWillUnmount() {\n    // clear time interval\n    clearInterval(this.intervalId)\n  }\n\n\n  render() {\n    const {currentTime, weather} = this.state;\n    const title = this.getTitle();\n\n    let token = sessionStorage.getItem('token');\n    let decodedData = decode(token);\n    let username = decodedData.user.username;\n\n    //const user = memoryUtils.user;\n\n    return (\n      <div className=\"header\">\n        <div>\n          <div className=\"header-top\">\n            welcome,{username}!&nbsp;&nbsp;\n            <LinkButton onClick={this.logout}>Logout</LinkButton>\n          </div>\n          <div className=\"header-bottom\">\n            <div className=\"header-bottom-left\">{title}</div>\n            <div className=\"header-bottom-right\">\n              <span>{currentTime}</span>&nbsp;&nbsp;\n              <span>Toronto: {weather}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Header);","import React, {Component} from 'react';\n\nimport './index.less';\n\nclass Home extends Component {\n  render() {\n    return (\n      <div className=\"home\">\n        <div>\n          Welcome to Admin System!\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Form, Input} from 'antd';\n\nconst Item = Form.Item;\n\nclass AddUpdateForm extends Component {\n\n  constructor(props) {\n    super(props);\n    //pass this.props.form to parent component by this.props.setForm function\n    this.props.setForm(this.props.form)\n  }\n\n  static propTypes = {\n    setForm: PropTypes.func.isRequired,\n    categoryName: PropTypes.string,\n  };\n\n\n  render() {\n    const {getFieldDecorator} = this.props.form;\n    const {categoryName} = this.props;\n    return (\n      <Form>\n        <Item>\n          {\n            getFieldDecorator('name', {\n              initialValue: categoryName || '', //add or update\n              rules: [\n                {required: true, message: 'name is required'}\n              ]\n            })(\n              <Input type=\"text\" placeholder=\"please enter name\" />\n            )\n          }\n        </Item>\n      </Form>\n    )\n  }\n}\n\nexport default Form.create()(AddUpdateForm)","import React, {Component} from 'react';\nimport {Card, Button, Icon, Table, Divider, message, Modal} from 'antd';\n\nimport LinkButton from '../../link-button'\nimport AddUpdateForm from './add-update-form';\nimport {reqCategories, reqAddCategory, reqUpdateCategory, reqDeleteCategory} from '../../../api';\n\n\nclass Category extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      categories: [], // category array\n      loading: false, // loading before get data\n      showStatus: 0, // Modal status 0: hide, 1: add category, 2: update category\n    };\n\n    //initialize table columns\n    this.initColumns();\n\n  }\n\n  componentDidMount() {\n    this.getCategories();\n  }\n\n  //initialize table columns\n  initColumns = () => {\n    this.columns = [\n      {\n        title: 'Name',\n        dataIndex: 'name', // table column name\n      },\n      {\n        title: 'Action',\n        key: 'action',\n        width: 500,\n        render: (category) =>\n          <span>\n            <LinkButton onClick={() => {\n              this.category = category; //store category in this, when we update we can get it\n              this.setState({showStatus: 2})\n            }\n            }>Update</LinkButton>\n            <Divider type=\"vertical\"/>\n            <LinkButton onClick={() => this.handleDelete(category)}>Delete</LinkButton>\n          </span>\n      },\n    ];\n  };\n\n  //----------------------------AJAX START-----------------------//\n  //send ajax to get categories\n  getCategories = async () => {\n    //display loading\n    this.setState({loading: true});\n    //send ajax\n    const categories = await reqCategories();\n    // hide loading\n    this.setState({loading: false});\n    //change data\n    this.setState({categories});\n  };\n  //----------------------------AJAX END-----------------------//\n\n\n  //----------------------------HANDLE CLICK START-----------------------//\n  //Category Modal click ok - Add or Update\n  handleOk = () => {\n    //validation\n    this.form.validateFields(async (err, values) => {\n      if (!err) {\n        // success\n        //get categoryName\n        const {name} = values;\n        //get state add or update\n        const {showStatus} = this.state;\n        let categories;\n        if (showStatus === 1) { // add\n          // send add ajax\n          categories = await reqAddCategory(name);\n        } else { // update\n          const id = this.category._id;\n          //send update ajax\n          categories = await reqUpdateCategory({id, name});\n        }\n        //Clean value in the form\n        this.form.resetFields(); // Reset the specified fields' value(to initialValue) and status.\n\n        //hide category Modal\n        this.setState({showStatus: 0});\n\n        const action = showStatus === 1 ? 'Add' : 'Update';\n        message.success(action + ' Successfully');\n\n        // update category list\n        this.getCategories();\n\n      }\n    });\n  };\n\n  //Category Modal click cancel\n  handleCancel = () => {\n    this.form.resetFields(); // Reset the specified fields' value(to initialValue) and status.\n    this.setState({\n      showStatus: 0\n    })\n  };\n\n  //Delete category\n  handleDelete = async (category) =>{\n    Modal.confirm({\n      title: `Are you sure you want to delete ${category.name} ?`,\n      onOk: async () => {\n        await reqDeleteCategory(category._id);\n        message.success('Delete Successfully');\n        this.category = {}\n        // update category list\n        this.getCategories();\n      },\n      onCancel() {\n      },\n    })\n  };\n  //----------------------------HANDLE CLICK END-----------------------//\n\n\n  render() {\n    //get state data\n    const {categories, loading, showStatus} = this.state;\n\n    //get category name, before click updated there is no category,so set it to {}\n    const category = this.category || {};\n\n    //table\n    const title = 'Category List';\n    const extra = ( //onClick={this.setState({showStatus:1})} call the function immediately\n      //callback onClick={() => {this.setState({showStatus:1})}}\n      <Button type='primary' onClick={() => {\n        this.category = {}; //fix bug - click update then click add (clean category in this)\n        this.setState({showStatus: 1})\n      }}>\n        <Icon type='plus'/>Add\n      </Button>\n    );\n\n\n    return (\n      <div className=\"category\">\n        <div>\n          <Card title={title} extra={extra}>\n            <Table\n              bordered={true}\n              rowKey=\"_id\"\n              loading={loading}\n              dataSource={categories}\n              columns={this.columns}\n              pagination={{defaultPageSize: 6, showQuickJumper: true}}\n            />\n            <Modal\n              title={showStatus === 1 ? \"ADD CATEGORY\" : \"UPDATE CATEGORY\"}\n              visible={showStatus !== 0}\n              onOk={this.handleOk}\n              onCancel={this.handleCancel}\n            >\n              {/*get form object from AddUpdateForm setForm function and store it in this */}\n              <AddUpdateForm setForm={form => this.form = form} categoryName={category.name}/>\n            </Modal>\n          </Card>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Category;","import React, {Component} from 'react';\nimport {Card, Select, Input, Button, Icon, Table, message, Divider, Modal} from 'antd';\nimport throttle from 'lodash.throttle';\n\nimport LinkButton from \"../../link-button\";\nimport {reqDeleteProduct, reqProducts, reqSearchProducts, reqUpdateProductStatus} from \"../../../api\";\nimport {PAGE_SIZE} from \"../../../config/Constans\";\n\nconst Option = Select.Option;\n\nclass ProductHome extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      products: [], //product list\n      total: 0, //total product amount\n      searchType: 'productName', //default search product name\n      searchName: '',\n\n    };\n\n    //initialize table columns\n    this.initColumns();\n\n  }\n\n  componentDidMount() {\n    //get first page\n    this.getProducts(1);\n  }\n\n  //initial table columns\n  initColumns = () => {\n    this.columns = [\n      {\n        title: 'Name',\n        dataIndex: 'name'\n      },\n      {\n        title: 'Category',\n        dataIndex: 'categoryName'\n      },\n      {\n        title: 'Price',\n        dataIndex: 'price',\n        //if display is not dataindex itself, use render\n        //if no dataIndex use render: (product) => '$' + product.price\n        render: (price) => '$' + price\n      },\n      {\n        title: 'Status',\n        // dataIndex: 'status',\n        render: ({_id, status}) => {\n          let btnText = 'Change';\n          let text = 'Out of Stock';\n          if (status === 2) {\n            btnText = 'Change';\n            text = 'In Stock';\n          }\n          return (\n            <span>\n              <span>{text}</span><br/>\n              <Button size=\"small\" type=\"primary\" onClick={() => {\n                this.updateProductStatus(_id, status)\n              }}>{btnText}</Button><br/>\n            </span>\n          )\n        }\n      },\n      {\n        title: 'Action',\n        render: (product) =>\n          <span>\n            <LinkButton onClick={() => {\n              //pass product to detail page\n              //this.props.history.push({pathname: '/product/detail', state: {product}});\n              //this.props.history.push('/product/detail/' + product._id);\n              this.props.history.push({pathname: ('/product/detail/' + product._id), state: {product}});\n            }\n            }>View</LinkButton>\n            <Divider type=\"vertical\"/>\n            <LinkButton onClick={() => {\n              //this.props.history.push({pathname: '/product/addupdate', state: {product}});\n              //this.props.history.push('/product/addupdate/' + product._id);\n              this.props.history.push({pathname: ('/product/addupdate/' + product._id), state: {product}});\n            }\n            }>Update</LinkButton>\n            <Divider type=\"vertical\"/>\n            <LinkButton onClick={() => this.handleDelete(product)}>Delete</LinkButton>\n          </span>\n      },\n    ];\n  };\n\n  //----------------------------AJAX START-----------------------//\n  //send ajax to get product\n  getProducts = async (pageNum) => {\n    this.setState({loading: true});\n    this.pageNum = pageNum; //store current page number\n    //console.log(pageNum,PAGE_SIZE);\n    const data = await reqProducts({pageNum, pageSize: PAGE_SIZE});\n    const {total, list} = data;\n    this.setState({loading: false});\n    this.setState({products: list, total});\n  };\n\n  //send ajax to search product\n  searchProduct = async (pageNum) =>{\n    const {searchName, searchType} = this.state;\n    const data = await reqSearchProducts({pageNum:this.pageNum, pageSize: PAGE_SIZE,searchName,searchType});\n    const {total, list} = data;\n    this.setState({products: list, total});\n  };\n\n  //send ajax to change product status\n  updateProductStatus = async (id, status) => {\n    //get new status\n    status = status === 1 ? 2 : 1;\n    //send ajax\n    await reqUpdateProductStatus(id, status);\n    message.success('update status successfully');\n    this.getProducts(this.pageNum);\n\n  };\n\n  //Delete product\n  handleDelete = async (product) =>{\n    Modal.confirm({\n      title: `Are you sure you want to delete ${product.name} ?`,\n      onOk: async () => {\n        await reqDeleteProduct(product._id);\n        message.success('Delete Successfully');\n        this.product = {};\n        // update Products list\n        this.getProducts(this.pageNum);\n      },\n      onCancel() {\n      },\n    })\n  };\n\n\n\n  //----------------------------AJAX END-----------------------//\n\n\n  render() {\n    const {loading, products, total, searchType, searchName} = this.state;\n\n    const title = (\n      <span>\n        <Select\n          style={{width: 200}}\n          value={searchType}\n          onChange={(value) => this.setState({searchType: value})}\n        >\n          <Option value=\"productName\">search by Name</Option>\n          <Option value=\"productCategory\">search by Category</Option>\n        </Select>\n        <Input\n          style={{width: 200, margin: '0 10px'}}\n          placeholder=\"search\"\n          value={searchName}\n          onChange={event => this.setState({searchName: event.target.value})}\n        />\n        <Button type=\"primary\" onClick={() => {\n          this.searchProduct();\n        }}>SEARCH</Button>\n      </span>\n    );\n\n    const extra = (\n      <Button type=\"primary\" onClick={() => {\n        this.props.history.push('/product/addupdate');\n      }}>\n        <Icon type=\"plus\"/>\n        Add Product\n      </Button>\n    );\n\n    return (\n      <div className=\"product\">\n        <Card title={title} extra={extra}>\n          <Table\n            bordered={true}\n            rowKey=\"_id\"\n            loading={loading}\n            columns={this.columns}\n            dataSource={products}\n            pagination={{\n              total,  //Total number of data items\n              defaultPageSize: PAGE_SIZE, //Default number of data items per page\n              showQuickJumper: true,  //Determine whether you can jump to pages directly\n              onChange: this.getProducts,  //Called when the page number is changed, and it takes the resulting page number and pageSize as its arguments\n              //onChange: (page) => this.this.getProducts(page), this.getProducts: give onChange function this.getProducts():give onChange the result of the function\n              current: this.pageNum  //Current page number\n            }}\n          />\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default ProductHome;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Upload, Icon, Modal, message} from 'antd';\nimport {reqDeleteImg, updateImgUrl} from \"../../../api\";\nimport {BASE_HOST} from \"../../../config/Constans\";\n\nconst BASE_IMG = BASE_HOST + '/api/public/upload/';\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n}\n\nexport default class UpdatePicture extends Component {\n\n  //get imgs from parent component\n  static propTypes = {\n    imgs: PropTypes.array\n  };\n\n  state = {\n    previewVisible: false,\n    previewImage: '',\n    fileList: [\n      // {\n      //   uid: '-1', //unique identifier, negative is recommend, to prevent\n      //   name: 'image.png', //file name\n      //   status: 'done', //options：uploading, done, error, removed\n      //   url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n      // }\n    ],\n  };\n\n\n  //add-update passes imgs\n  componentWillMount() {\n    //get imgs from parent component\n    console.log(this.props);\n    const imgs = this.props.imgs;\n    console.log(imgs);\n    //dispaly previous imgs (update)\n    if (imgs && imgs.length > 0) {\n      const fileList = imgs.map((img, index) => ({\n          uid: -index, //unique identifier\n          name: img, //file name\n          status: 'done',//options：uploading, done, error, removed\n          url: BASE_IMG + img\n        })\n      );\n      this.setState({fileList})\n    }\n  }\n\n  //no imgs to pass from add-update\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.imgs !== this.props.imgs) {\n      const imgs = nextProps.imgs;\n      console.log(imgs);\n      //dispaly previous imgs (update)\n      if (imgs && imgs.length > 0) {\n        const fileList = imgs.map((img, index) => ({\n            uid: -index, //unique identifier\n            name: img, //file name\n            status: 'done',//options：uploading, done, error, removed\n            url: BASE_IMG + img\n          })\n        );\n        this.setState({fileList})\n      }\n    }\n  }\n\n  //get the names array of images(api), pass it to parent comment\n  getImgs = () => this.state.fileList.map(file => file.name);\n\n  //close preview picture Modal\n  handleCancel = () => this.setState({previewVisible: false});\n\n  //set previewImage and open picture Modal\n  handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    this.setState({\n      previewImage: (BASE_IMG + file.name) || file.preview,\n      previewVisible: true,\n    });\n    console.log(this.state.previewImage);\n  };\n\n  //when status is changed (update or delete)\n  handleChange = async ({file, fileList}) => {\n    // update (status: uploading to done)\n    if (file.status === 'done') {\n      file = fileList[fileList.length - 1];\n      // get response data: file.response.data, including name and url\n      const {name, url} = file.response;\n      // add url attribute to file and change the previous file name to the name we stored in server\n      file.name = name;\n      file.url = url;\n    }\n    //delete (status: done to removed)\n    else if (file.status === 'removed') {\n      const result = await reqDeleteImg(file.name);\n      message.success('Delete image successfully');\n    }\n    //update fileList\n    this.setState({fileList})\n  };\n\n\n  render() {\n    const {previewVisible, previewImage, fileList} = this.state;\n    console.log(fileList);\n    const uploadButton = (\n      <div>\n        <Icon type=\"plus\"/>\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n    return (\n      <div className=\"clearfix\">\n        <Upload\n          action={updateImgUrl}\n          name=\"image\" //The name of uploading file Default:'file'\n          listType=\"picture-card\"  //Built-in stylesheets, support for three types: text, picture or picture-card\n          fileList={fileList}  //List of files that have been uploaded (controlled)\n          onPreview={this.handlePreview}\n          onChange={this.handleChange}\n        >\n          {/*fileList.length: the amount of pictures display button or not */}\n          {fileList.length >= 3 ? null : uploadButton}\n        </Upload>\n        <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n          <img alt=\"example\" style={{width: '100%'}} src={previewImage}/>\n        </Modal>\n      </div>\n    );\n  }\n}\n\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {EditorState, convertToRaw, ContentState} from 'draft-js';\nimport {Editor} from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport _ from 'lodash';\n\nexport default class UpdateDraftEditor extends Component {\n\n  static propTypes = {\n    detail: PropTypes.string\n  };\n\n  state = {\n    editorState: EditorState.createEmpty(),\n\n  };\n\n  //add-update passes detail\n  componentWillMount() {\n    const detail = this.props.detail;\n    if (detail) {\n      let editorState = this.createEditorState(detail);\n      this.setState({editorState})\n    }\n  }\n\n  //no detail to pass from add-update\n  componentWillReceiveProps(nextProps) {\n    //console.log(this.props.detail, nextProps.detail);\n    if (nextProps.detail !== this.props.detail) {\n      const detail = nextProps.detail;\n      if (detail) {\n        let editorState = this.createEditorState(detail);\n        this.setState({editorState});\n      }\n    }\n\n  }\n\n  //create editorState\n  createEditorState = (detail) => {\n    let contentBlock = htmlToDraft(detail);\n    let contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n    let editorState = EditorState.createWithContent(contentState);\n    return editorState;\n  };\n\n  //pass to parent compont\n  getDetail = () => draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()));\n\n  onEditorStateChange = _.debounce((editorState) => {\n    this.setState({\n      editorState,\n    })\n  }, 100);\n\n  render() {\n    const {editorState} = this.state;\n    return (\n      <div>\n        <Editor\n          editorState={editorState}\n          editorStyle={{height: 200, border: '1px solid black', paddingLeft: 10}}\n          onEditorStateChange={this.onEditorStateChange}\n        />\n      </div>\n    );\n  }\n}\n\n","import React, {Component} from 'react';\nimport {Card, Icon, Form, Input, Select, Button, message} from 'antd';\n\nimport LinkButton from \"../../link-button\";\nimport {reqAddProduct, reqCategories, reqProductById, reqUpdateProduct} from \"../../../api\";\nimport UpdatePicture from './update-picture'\nimport UpdateDraftEditor from \"./update-draft-editor\";\n\nconst Item = Form.Item;\n\nclass ProductAddUpdate extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      product: !this.props.location.state ? \"\" : this.props.location.state.product,\n      categories: [],\n    };\n\n    //reference update-pictures component\n    this.picturesRef = React.createRef();\n    //reference update-draft-editor component\n    this.editorRef = React.createRef();\n\n    //add or update\n    this.isUpdate = this.props.location.pathname !== \"/product/addupdate\";\n\n  }\n\n  async componentWillMount() {\n    this.getCategories();\n    //if it is update, get product for path\n    if (this.isUpdate && !this.props.location.state) {\n      const id = this.props.match.params.id;\n      let product = await reqProductById(id);\n      this.setState({product});\n    }\n    console.log(this.state.product)\n  }\n\n  //get all categories\n  getCategories = async () => {\n    const categories = await reqCategories();\n    this.setState({categories})\n  };\n\n\n  //validate price\n  validatePrice = (rule, value, callback) => {\n    // if (value==='') {\n    //   callback()\n    // } else\n    if (value * 1 <= 0) { //cast: string to number\n      callback('Price can not less than 0')\n    } else {\n      callback()\n    }\n  };\n\n  //submit form\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.form.validateFields(async (err, values) => {\n      if (!err) {\n        const {name, desc, price, category} = values;\n        console.log('send request', name, desc, price, category);\n        console.log(this.picturesRef);\n        const imgs = this.picturesRef.current.getImgs();\n        console.log(imgs);\n        const detail = this.editorRef.current.getDetail();\n        console.log(detail);\n        let product = {name, desc, price, category, imgs, detail};\n\n        //add or update\n        if (this.isUpdate) {\n          product.id = this.state.product._id;\n          await reqUpdateProduct(product);\n        } else {\n          await reqAddProduct(product);\n        }\n        message.success(`${this.isUpdate ? 'update' : 'add'} product successfully`);\n        this.props.history.push('/product');\n      }\n    });\n  };\n\n\n  render() {\n    const {categories, product} = this.state;\n    const {getFieldDecorator} = this.props.form;\n    //add or update\n    const {isUpdate} = this;\n    console.log(product.imgs);\n\n\n    const title = (\n      <span>\n        <LinkButton onClick={() => this.props.history.goBack()}>\n          <Icon type=\"arrow-left\"/>\n        </LinkButton>\n        <span>{isUpdate ? 'Update Product' : 'Add Product'}</span>\n      </span>\n    );\n\n    //Form layout\n    const formLayout = {\n      labelCol: {span: 4},\n      wrapperCol: {span: 8}\n    };\n\n\n    return (\n      <Card title={title}>\n        <Form {...formLayout} onSubmit={this.handleSubmit}>\n          <Item label=\"Product Name\">\n            {getFieldDecorator('name', {\n              initialValue: product.name || \"\",\n              rules: [\n                {\n                  required: true,\n                  message: 'Please input product name',\n                },\n              ],\n            })(<Input placeholder=\"Please input product name\"/>)}\n          </Item>\n          <Item label=\"Ingredients\">\n            {getFieldDecorator('desc', {\n              initialValue: product.desc || \"\",\n              rules: [\n                {\n                  required: true,\n                  message: 'Please input product Ingredients',\n                },\n              ],\n            })(<Input placeholder=\"Please input product description\"/>)}\n          </Item>\n          <Item label=\"Product Price\">\n            {getFieldDecorator('price', {\n              initialValue: product.price || \"\",\n              rules: [\n                {\n                  required: true,\n                  message: 'Please input product price',\n                },\n                {validator: this.validatePrice}\n              ],\n            })(<Input type=\"number\" addonBefore=\"$\" placeholder=\"Please input product price\"/>)}\n          </Item>\n          <Item label=\"Category\">\n            {getFieldDecorator('category', {\n              initialValue: product.category || '',\n              rules: [\n                {\n                  required: true,\n                  message: 'Please select category',\n                },\n              ],\n            })(\n              <Select>\n                <Select.Option value=''>Please select category</Select.Option>\n                {\n                  categories.map(c => <Select.Option value={c._id} key={c._id}> {c.name} </Select.Option>)\n                }\n              </Select>)}\n          </Item>\n          <Item label=\"Product Picture\">\n            {/*When a ref is passed to an element in render, a reference to the node becomes accessible at the current attribute of the ref*/}\n            <UpdatePicture ref={this.picturesRef} imgs={product.imgs}/>\n          </Item>\n          <Item label=\"Product Detail\" wrapperCol={{span: 20}}>\n            <UpdateDraftEditor ref={this.editorRef} detail={product.detail}/>\n          </Item>\n          <Item wrapperCol={{span: 10}} style={{textAlign:\"center\"}}>\n            <Button  type=\"primary\" htmlType=\"submit\">submit</Button>\n          </Item>\n\n        </Form>\n      </Card>\n    )\n  }\n}\n\nexport default Form.create()(ProductAddUpdate);","import React, {Component} from 'react';\nimport {Card, Icon, List} from 'antd';\n\nimport LinkButton from \"../../link-button\";\nimport {reqCategoryById, reqProductById} from \"../../../api\";\nimport {BASE_HOST} from \"../../../config/Constans\";\n\nconst BASE_IMG = BASE_HOST + '/api/public/upload/';\nconst Item = List.Item;\n\nexport default class ProductDetail extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      product: !this.props.location.state ? {imgs:[]} : this.props.location.state.product\n    };\n  }\n\n  componentDidMount() {\n    if(!this.props.location.state){\n      this.getProduct();\n    }\n\n  }\n\n\n  //get product by id and category name\n  getProduct = async () => {\n\n    const id = this.props.match.params.id;\n    console.log(id);\n    let product = await reqProductById(id);\n    let category = await reqCategoryById(product.category);\n    product.categoryName = category.name;\n    console.log(product);\n    this.setState({product: product})\n  };\n\n  //if img is not null dispaly, otherwise don't\n  displayImg = (imgs) => {\n    if (imgs.length !== 0) {\n      return imgs.map(img => <img\n        className=\"detail-img\"\n        key={img}\n        src={BASE_IMG + img}\n        alt=\"img\"/>)\n    } else {\n      return \"\";\n    }\n  };\n\n  render() {\n    const {name, desc, price, imgs, detail, categoryName} = this.state.product;\n\n    const title = (\n      <span>\n        <LinkButton onClick={() => this.props.history.goBack()}>\n          <Icon type=\"arrow-left\"/>\n        </LinkButton>\n        <span>Product Detail</span>\n      </span>\n    );\n\n\n    return (\n      <Card title={title} className=\"detail\">\n        <List>\n          <Item>\n            <span className=\"detail-left\">Product Name:</span>\n            <span>{name}</span>\n          </Item>\n          <Item>\n            <span className=\"detail-left\">Ingredients:</span>\n            <span>{desc}</span>\n          </Item>\n          <Item>\n            <span className=\"detail-left\">Product Price:</span>\n            <span>$ {price}</span>\n          </Item>\n          <Item>\n            <span className=\"detail-left\">Product Category:</span>\n            <span>{categoryName}</span>\n          </Item>\n          <Item>\n            <span className=\"detail-left\">Product Picture:</span>\n            <span>\n              {this.displayImg(imgs)}\n            </span>\n          </Item>\n          <Item>\n            <span className=\"detail-left\">Prodoct Description:</span>\n            <span dangerouslySetInnerHTML={{__html: detail}}></span>\n            {/*parse to html like innerhtml*/}\n          </Item>\n        </List>\n      </Card>\n    )\n  }\n}","import React, { Component } from 'react'\nimport {Switch, Route, Redirect} from 'react-router-dom'\nimport './less/product.less'\n\nimport ProductHome from '../components/views/product'\nimport ProductAddUpdate from '../components/views/product/add-update'\nimport ProductDetail from '../components/views/product/detail'\n\n\nexport default class ProductRouter extends Component {\n\n  render () {\n    return (\n      <Switch>\n        <Route path=\"/product\" exact component={ProductHome}/> {/* exact: exactly match*/}\n        <Route path=\"/product/detail/:id\" component={ProductDetail}/>\n        <Route path=\"/product/detail\" component={ProductDetail}/>\n        <Route path=\"/product/addupdate/:id\" component={ProductAddUpdate}/>\n        <Route path=\"/product/addupdate\" component={ProductAddUpdate}/>\n        <Redirect to=\"/product\" />\n      </Switch>\n    )\n  }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport {Form, Input} from 'antd';\n\n\nclass AddForm extends PureComponent {\n\n  static propTypes = {\n    setForm: PropTypes.func.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    //pass this.props.form to parent component by this.props.setForm function\n    this.props.setForm(this.props.form)\n  }\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    const formItemLayout = {\n      labelCol: { span: 5 },\n      wrapperCol: { span: 16 }\n    };\n\n    return (\n      <Form>\n        <Form.Item label=\"Role Name\" {...formItemLayout}>\n          {\n            getFieldDecorator('name', {\n              initialValue: '',\n              rules: [\n                {required: true, message: 'Role Name is required'}\n              ]\n            })(\n              <Input type=\"text\" placeholder=\"Role Name is required\" />\n            )\n          }\n        </Form.Item>\n      </Form>\n    )\n  }\n}\n\nexport default AddForm = Form.create()(AddForm)","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {Form, Input, Tree} from 'antd';\nimport navList from '../../../config/navConfig';\n\nconst {TreeNode} = Tree;\nconst Item = Form.Item;\n\n\nexport default class AuthForm extends PureComponent {\n\n  static propTypes = {\n    role: PropTypes.object\n  }\n\n  state = {\n    checkedKeys: []\n  }\n\n  getMenus = () => this.state.checkedKeys;\n\n  getTreeNodes = (navList) => {\n    return navList.reduce((pre, item) => {\n      pre.push(\n        <TreeNode title={item.title} key={item.key}>\n          {item.children ? this.getTreeNodes(item.children) : null}\n        </TreeNode>\n      )\n      return pre\n    }, [])\n  };\n\n//update Authorities\n  handleCheck = (checkedKeys) => {\n    this.setState({\n      checkedKeys\n    })\n\n  };\n\n  componentWillMount() {\n    this.treeNodes = this.getTreeNodes(navList);\n    const menus = this.props.role.menus;\n    this.setState({checkedKeys: menus})\n\n  }\n\n\n  //change checkedKeys based on different ROLE passed from parent component\n\n  componentDidUpdate(prevProps) {\n    // const menus = this.props.role.menus;\n    // this.setState({checkedKeys: menus})\n\n    // // Typical usage (don't forget to compare props):\n    if (this.props.role !== prevProps.role) {\n      //this.fetchData(this.props.role);\n      const menus = this.props.role.menus;\n      this.setState({checkedKeys: menus})\n    }\n  }\n  //\n  // componentWillReceiveProps(nextProps) {\n  //   const menus = nextProps.role.menus\n  //   this.setState({\n  //     checkedKeys: menus\n  //   })\n  // }\n\n\n  render() {\n    const {name} = this.props.role;\n    const {checkedKeys} = this.state;\n\n\n    const formItemLayout = {\n      labelCol: {span: 4},\n      wrapperCol: {span: 15},\n    };\n\n    return (\n      <div>\n        <Item label='Role Name' {...formItemLayout}>\n          <Input value={name} disabled/>\n        </Item>\n        <Tree\n          checkable  //Adds a Checkbox\n          defaultExpandAll  //expand all treeNodes by default\n          checkedKeys={checkedKeys}\n          onCheck={this.handleCheck}\n        >\n          <TreeNode title=\"All Authorities\" key=\"all\">\n            {this.treeNodes}\n          </TreeNode>\n        </Tree>\n\n      </div>\n    )\n  }\n}","import React, {Component} from 'react';\nimport {Card, Button, Table, Modal, message, Divider} from 'antd';\n\nimport {formateDate} from '../../../utils/dateUtils';\nimport LinkButton from '../../link-button';\nimport {reqAddRole, reqUpdateRole, reqRoles, reqDeleteRole} from '../../../api'\nimport {PAGE_SIZE} from \"../../../config/Constans\";\nimport AddForm from './add-form';\nimport AuthForm from './auth-form';\nimport decode from \"jwt-decode\";\n\nclass Role extends Component {\n  state = {\n    roles: [],\n    isShowAdd: false,\n    isShowAuth: false,\n    loading: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.authRef = React.createRef();\n\n    this.initColumn();\n  }\n\n  componentDidMount() {\n    this.getRoles()\n  }\n\n  getRoles = async () => {\n    this.setState({loading: true});\n    const roles = await reqRoles();\n    this.setState({loading: false});\n    this.setState({roles});\n  };\n\n  addRole = () => {\n    this.form.validateFields(async (error, values) => {\n      if (!error) {\n        this.setState({\n          isShowAdd: false\n        });\n\n        let newRole = {};\n        newRole.name = values.name;\n        let token = sessionStorage.getItem('token');\n        let decodeddata = decode(token);\n        newRole.created_name = decodeddata.user.username;\n        newRole.created_time = Date.now();\n        this.form.resetFields();\n        const role = await reqAddRole(newRole);\n\n        this.setState(state => ({roles: [...state.roles, role]}));\n        message.success('Add successfully');\n      }\n    })\n  };\n\n  updateRole = async () => {\n    this.setState({\n      isShowAuth: false\n    });\n    let {role} = this;\n    let token = sessionStorage.getItem('token');\n    let decodeddata = decode(token);\n    role.id = role._id;\n    role.menus = this.authRef.current.getMenus();\n    role.auth_time = Date.now();\n    role.auth_name = decodeddata.user.username;\n\n    await reqUpdateRole(role);\n    message.success('Authorized successfully');\n    this.setState({roles: [...this.state.roles]})\n  };\n\n  delete = (role) => {\n    Modal.confirm({\n      title: `Are you sure you want to delete ${role.name} ?`,\n      onOk: async () => {\n        await reqDeleteRole(role._id);\n        message.success('Delete Successfully');\n        this.getRoles();\n      },\n      onCancel() {\n      },\n    })\n  };\n\n\n  showAuth = (role) => {\n    this.role = role;\n    this.setState({isShowAuth: true})\n  };\n\n  initColumn = () => {\n    this.columns = [\n      {\n        title: 'Role Name',\n        dataIndex: 'name'\n      },\n      {\n        title: 'Created Time',\n        dataIndex: 'created_time',\n        //render: create_time => formateDate(create_time)\n        render: formateDate\n      },\n      {\n        title: 'Created Person',\n        dataIndex: 'created_name'\n      },\n      {\n        title: 'Authorized Time',\n        dataIndex: 'auth_time',\n        render: formateDate\n      },\n      {\n        title: 'Authorized Person',\n        dataIndex: 'auth_name'\n      },\n      {\n        title: 'Action',\n        render: (role) =>\n          <span>\n            <LinkButton onClick={() => this.showAuth(role)}>Authorized</LinkButton>\n            <Divider type=\"vertical\"/>\n            <LinkButton onClick={() => this.delete(role)}>Delete</LinkButton>\n          </span>\n      }\n    ];\n  };\n\n\n  render() {\n    const {roles, isShowAdd, isShowAuth,loading} = this.state;\n\n    const title = (\n      <Button type='primary' onClick={() => this.setState({isShowAdd: true})}>\n        Add Role\n      </Button>\n    );\n\n    return (\n      <div className=\"role\">\n        <Card title={title}>\n          <Table\n            bordered\n            rowKey='_id'\n            dataSource={roles}\n            columns={this.columns}\n            pagination={{defaultPageSize: PAGE_SIZE}}\n            loading={loading}\n          />\n\n          <Modal\n            title=\"Add Role\"\n            visible={isShowAdd}\n            onOk={this.addRole}\n            onCancel={() => {\n              this.setState({isShowAdd: false});\n              this.form.resetFields();\n            }}\n          >\n            <AddForm\n              setForm={(form) => this.form = form}\n            />\n          </Modal>\n\n          <Modal\n            title=\"Set Auth\"\n            visible={isShowAuth}\n            onOk={this.updateRole}\n            onCancel={() => {\n              this.setState({isShowAuth: false})\n            }}\n          >\n            <AuthForm role={this.role} ref={this.authRef}/>\n          </Modal>\n        </Card>\n      </div>\n    )\n  }\n}\n\nexport default Role;","import React, {Component} from 'react';\nimport {Form, Select, Input} from 'antd';\nimport PropTypes from 'prop-types';\nimport {reqRoles} from \"../../../api\";\n\nconst Item = Form.Item;\nconst Option = Select.Option;\n\n\nclass AddUpdateForm extends Component {\n\n  static propTypes = {\n    setForm: PropTypes.func.isRequired,\n    user: PropTypes.object,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.props.setForm(this.props.form);\n\n    this.state = {\n      roles: []\n    };\n  }\n\n  componentDidMount() {\n    this.getRoles();\n  }\n\n  getRoles = async () => {\n    const roles = await reqRoles();\n    this.setState({roles});\n  };\n\n  validatePwd = (rule, value, callback) => {\n    //console.log('validatePwd()', rule, value)\n    value = value.trim();\n    if (!value) {\n      callback('Password is required')\n    } else if (value.length < 4) {\n      callback('Password must contain 4 - 20 characters')\n    } else if (value.length > 20) {\n      callback('Password must contain 4 - 20 characters')\n      // } else if (!/[A-Z]/.test(value)) {\n      //   callback('Password must contain at least 1 uppercase letter')\n      // } else if (!/[a-z]/.test(value)) {\n      //   callback('Password must contain at least 1 lowercase letter')\n      // } else if (!/[0-9]/.test(value)) {\n      //   callback('Password must contain at least 1 number')\n      // } else if (!/[^A-Za-z0-9\\s]/.test(value)) {\n      //   callback('Password must contain at least 1 symbol')\n    } else {\n      callback() // pwd ok\n    }\n  };\n\n\n  render() {\n    const {getFieldDecorator} = this.props.form;\n    const {username, password, phone, email, role} = this.props.user;\n\n    const formItemLayout = {\n      labelCol: {span: 6},\n      wrapperCol: {span: 14},\n    };\n\n    return (\n      <div>\n        <Form {...formItemLayout}>\n          <Item label='Username'>\n            {\n              getFieldDecorator('username', {\n                initialValue: username || '',\n                rules: [\n                  {required: true, message: 'Username is required'}\n                ]\n              })(\n                <Input placeholder='Please enter username'/>\n              )\n            }\n          </Item>\n          <Item label='Password'>\n            {\n              getFieldDecorator('password', {\n                initialValue: password || '',\n                rules: [\n                  {validator: this.validatePwd}\n                ]\n              })(\n                <Input type='password' placeholder='Please enter password'/>\n              )\n            }\n          </Item>\n          <Item label='Phone'>\n            {\n              getFieldDecorator('phone', {\n                initialValue: phone || '',\n              })(\n                <Input placeholder='Please enter phone number'/>\n              )\n            }\n          </Item>\n          <Item label='Email'>\n            {\n              getFieldDecorator('email', {\n                initialValue: email || '',\n                rules: [\n                  {\n                    required: true, message: 'Email is required'\n                  },\n                  {\n                    pattern: /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/,\n                    message: 'Email is not validated',\n                  },\n                ]\n              })(\n                <Input placeholder='Please enter Email'/>\n              )\n            }\n          </Item>\n          <Item label='Role'>\n            {\n              getFieldDecorator('role', {\n                initialValue: role || '',\n                rules: [\n                  {required: true, message: 'Role is required'}\n                ]\n              })(\n                <Select>\n                  {\n                    this.state.roles.map(role => <Option key={role._id} value={role._id}>{role.name}</Option>)\n                  }\n                </Select>\n              )\n            }\n          </Item>\n        </Form>\n\n      </div>\n    );\n  }\n}\n\nexport default Form.create()(AddUpdateForm);","import React, {Component} from 'react';\nimport {Card, Button, Table, Modal, message} from \"antd\";\n\nimport {PAGE_SIZE} from \"../../../config/Constans\";\nimport AddUpdateForm from './add-update-form';\nimport {formateDate} from '../../../utils/dateUtils';\nimport LinkButton from '../../link-button';\nimport {reqUsers, reqDeleteUser, reqUpdateUser, reqAddUser} from \"../../../api\";\n\nclass User extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      users: [],\n      loading: false,\n      addUpdateModalShow: 0, //0:hide; 1:Add, 2:Update\n    };\n\n    //initialize table columns\n    this.initColumns();\n\n  }\n\n  componentDidMount() {\n    this.getUsers()\n  }\n\n  getUsers = async () => {\n    this.setState({loading: true});\n    const users = await reqUsers();\n    this.setState({loading: false});\n    this.setState({users})\n  };\n\n  deleteUser = (user) => {\n    Modal.confirm({\n      title: `Are you sure you want to delete ${user.username} ?`,\n      onOk: async () => {\n        await reqDeleteUser(user._id);\n        message.success('User Deleted!');\n        this.getUsers()\n      }\n    })\n  };\n\n  //create update user\n  handleOk = () => {\n    this.form.validateFields(async (err, values) => {\n      if (!err) {\n        let {username, password, phone, email, role} = values;\n        let competition = {username, password, phone, email, role};\n\n        if (this.state.addUpdateModalShow === 1) {//add\n          //send ajax\n          await reqAddUser(competition);\n          console.log(competition);\n        } else if (this.state.addUpdateModalShow === 2) {//update\n          competition.id = this.user._id;\n          await reqUpdateUser(competition);\n        }\n\n        this.form.resetFields();\n        this.user = {};\n        const action = this.state.addUpdateModalShow === 1 ? 'Add' : 'Update';\n        message.success(action + ' Successfully');\n        this.getUsers();\n        this.setState({addUpdateModalShow: 0});\n\n      }\n    })\n\n  };\n\n\n  showAdd = () => {\n    this.user = {};\n    this.setState({addUpdateModalShow: 1})\n  };\n\n  //show update model\n  showUpdate = (user) => {\n    this.user = user;\n    this.setState({addUpdateModalShow: 2})\n  };\n\n  initColumns = () => {\n    this.columns = [\n      {\n        title: 'Username',\n        dataIndex: 'username'\n      },\n      {\n        title: 'Email',\n        dataIndex: 'email'\n      },\n\n      {\n        title: 'Phone',\n        dataIndex: 'phone'\n      },\n      {\n        title: 'Created Time',\n        dataIndex: 'create_time',\n        render: formateDate\n      },\n      {\n        title: 'Role Name',\n        dataIndex: 'role_name',\n      },\n      {\n        title: 'Action',\n        render: (user) => (\n          <span>\n            <LinkButton onClick={() => this.showUpdate(user)}>Update</LinkButton>\n            <LinkButton onClick={() => this.deleteUser(user)}>Delete</LinkButton>\n          </span>\n        )\n      }\n    ]\n  };\n\n\n  render() {\n    const {users, loading, addUpdateModalShow} = this.state;\n\n    const title = <Button type='primary' onClick={this.showAdd}>Create User</Button>\n\n    return (\n      <div className=\"user\">\n        <Card title={title}>\n          <Table\n            bordered\n            rowKey='_id'\n            loading={loading}\n            dataSource={users}\n            columns={this.columns}\n            pagination={{defaultPageSize: PAGE_SIZE}}\n          />\n          <Modal\n            title={addUpdateModalShow === 1 ? 'Create User' : 'Update User'}\n            visible={addUpdateModalShow !== 0}\n            onOk={this.handleOk}\n            onCancel={() => {\n              this.form.resetFields();\n              this.setState({addUpdateModalShow: 0})\n            }}\n          >\n            <AddUpdateForm user={this.user} setForm={form => this.form = form}/>\n          </Modal>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default User;","import React, {Component} from 'react';\nimport {BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,} from 'recharts';\nimport {Card} from \"antd\";\n\nclass MyBar extends Component {\n  render() {\n    const data = [\n      {name: 'Cheese Cake', store: 4000, online: 2400},\n      {name: 'Mousse Cake', store: 3000, online: 1398},\n      {name: 'Chocolate Cake', store: 2000, online: 9800},\n      {name: 'Fruit Cake', store: 2780, online: 3908},\n      {name: 'Fruit Cake', store: 1890, online: 4800},\n    ];\n\n    return (\n      <div className=\"myBar\">\n        <Card title=\"Card title\">\n          <BarChart\n            width={650}\n            height={300}\n            data={data}\n            margin={{\n              top: 20, right: 30, left: 20, bottom: 5,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\"/>\n            <XAxis dataKey=\"name\"/>\n            <YAxis/>\n            <Tooltip/>\n            <Legend/>\n            <Bar dataKey=\"store\" stackId=\"a\" fill=\"#8884d8\"/>\n            <Bar dataKey=\"online\" stackId=\"a\" fill=\"#82ca9d\"/>\n          </BarChart>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default MyBar;","import React, {Component} from 'react';\nimport {LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend} from 'recharts';\nimport {Card} from \"antd\";\n\nclass MyLine extends Component {\n\n\n  render() {\n    const data = [\n      {name: 'JAN', Cheese_Cake\t: 4000, Mousse_Cake: 2400, Chocolate_Cake: 2400},\n      {name: 'FEB', Cheese_Cake: 3000, Mousse_Cake: 1398, Chocolate_Cake: 2210},\n      {name: 'MAR', Cheese_Cake: 2000, Mousse_Cake: 9800, Chocolate_Cake: 2290},\n      {name: 'APR', Cheese_Cake: 2780, Mousse_Cake: 5400, Chocolate_Cake: 2000},\n      {name: 'MAY', Cheese_Cake: 1890, Mousse_Cake: 4800, Chocolate_Cake: 2181},\n      {name: 'JUNE', Cheese_Cake: 2390, Mousse_Cake: 3800, Chocolate_Cake: 2500},\n      {name: 'JULY', Cheese_Cake: 3490, Mousse_Cake: 4300, Chocolate_Cake: 2100},\n      {name: 'AUG', Cheese_Cake: 1890, Mousse_Cake: 4800, Chocolate_Cake: 2181},\n      {name: 'SEPT', Cheese_Cake: 2390, Mousse_Cake: 3800, Chocolate_Cake: 2500},\n      {name: 'OCT', Cheese_Cake: 3490, Mousse_Cake: 4300, Chocolate_Cake: 5000},\n      {name: 'NOV', Cheese_Cake: 2390, Mousse_Cake: 3800, Chocolate_Cake: 2500},\n      {name: 'DEC', Cheese_Cake: 3490, Mousse_Cake: 4300, Chocolate_Cake: 2100},\n    ];\n\n    return (\n      <div className=\"myLine\">\n        <Card title=\"Card title\">\n          <LineChart width={800} height={300} data={data}\n                     margin={{top: 5, right: 30, left: 20, bottom: 5}}>\n            <XAxis dataKey=\"name\"/>\n            <YAxis/>\n            <CartesianGrid strokeDasharray=\"3 3\"/>\n            <Tooltip/>\n            <Legend/>\n            <Line type=\"monotone\" dataKey=\"Mousse_Cake\" stroke=\"#8884d8\"/>\n            <Line type=\"monotone\" dataKey=\"Cheese_Cake\" stroke=\"#82ca9d\"/>\n            <Line type=\"monotone\" dataKey=\"Chocolate_Cake\" stroke=\"#0088FE\"/>\n          </LineChart>\n        </Card>\n      </div>\n    );\n  }\n\n}\n\nexport default MyLine;","import React, {Component} from 'react';\nimport {PieChart, Pie, Tooltip, Cell} from 'recharts';\nimport {Card} from \"antd\";\n\nclass MyPie extends Component {\n  render() {\n    const data = [\n      {name: '$0 - $50', value: 8},\n      {name: '$50 - $100', value: 12},\n      {name: '$100 - $150', value: 19},\n      {name: '$150 - $200', value: 5},\n\n      ];\n\n    const COLORS = ['#8884d8', '#0088FE', '#c14068', '#82ca9d'];\n\n    return (\n      <div className=\"myPie\">\n        <Card title=\"Card title\">\n          <PieChart width={300} height={300}\n                    margin={{\n                      top: 0, right: 30, left: 20, bottom: 5,\n                    }}>\n            <Pie isAnimationActive={false} data={data} cx={150} cy={150} outerRadius={80} fill=\"#8884d8\" label>\n            {\n              data.map((entry, index) => <Cell fill={COLORS[index % COLORS.length]}/>)\n            }\n            </Pie>\n            <Tooltip/>\n          </PieChart>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default MyPie;","import React, {Component} from 'react';\nimport { Redirect, Switch, Route } from 'react-router-dom';\nimport { Layout } from 'antd';\nimport './less/admin.less'\n\nimport Nav from '../components/nav';\nimport Header from '../components/header';\nimport Home from '../components/views/home';\nimport Category from '../components/views/category';\nimport ProductRouter from './ProductRouter';\nimport Role from '../components/views/role';\nimport User from '../components/views/user';\nimport Bar from '../components/views/statistic/myBar';\nimport Line from '../components/views/statistic/myLine';\nimport Pie from '../components/views/statistic/myPie';\n\nconst { Footer, Sider, Content } = Layout;\n\nclass AdminRouter extends Component {\n  render() {\n    // get user, if no user redirect to login\n    let token = sessionStorage.getItem('token');\n    if (!token) {\n      return <Redirect to=\"/login\"/>\n    }\n\n    return (\n      <div>\n\n        <Layout style={{height:'100%',minHeight:\"700px\"}}>\n          <Sider>\n            <Nav />\n          </Sider>\n          <Layout>\n            <Header/>\n            <div className=\"wrapper\">\n            <Content style={{background:'white', margin:'20px'}}>\n              <Switch>\n                <Route path=\"/home\" component={Home}/>\n                <Route path='/category' component={Category} />\n                <Route path='/product' component={ProductRouter} />\n                <Route path='/role' component={Role} />\n                <Route path='/user' component={User} />\n                <Route path='/bar' component={Bar} />\n                <Route path='/line' component={Line} />\n                <Route path='/pie' component={Pie} />\n                <Redirect to=\"/home\"/>\n              </Switch>\n            </Content>\n            <Footer style={{ textAlign: 'center', color: 'rgba(0, 0, 0, 0.5)'}} className=\"footer\">\n              Footer\n            </Footer>\n\n            </div>\n          </Layout>\n        </Layout>\n\n      </div>\n\n    );\n  }\n}\n\nexport default AdminRouter;","import React, {Component} from 'react';\nimport {HashRouter, Switch, Route} from 'react-router-dom';\n\nimport Login from '../components/views/login/';\nimport AdminRouter from './AdminRouter';\n\nclass AppRouter extends Component {\n  render() {\n    return (\n      <HashRouter>\n        <Switch>\n          <Route path=\"/login\" component={Login}/>\n          <Route path=\"/\" component={AdminRouter}/>\n\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nexport default AppRouter;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport AppRouter from \"./routes/AppRouter\";\nimport './api';\n\nReactDOM.render(<AppRouter />, document.getElementById('root'));"],"sourceRoot":""}